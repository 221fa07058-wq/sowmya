<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year Sowmya! üå∏</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root {
  --soft-pink: #ffc0cb;
  --sakura-pink: #ffd1dc;
  --bg-dark: #0d0d0d;
  --heading-font: 'Playfair Display', serif;
  --body-font: 'Montserrat', sans-serif;
}

html, body {
  margin: 0; padding: 0; height: 100%;
  font-family: var(--body-font);
  overflow: hidden;
  background: var(--bg-dark);
}

.star {
  position: fixed; width: 2px; height: 2px;
  background: var(--soft-pink); border-radius: 50%;
  opacity: 0.4; pointer-events: none;
}

.screen {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  transition: 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 10; padding: 20px; text-align: center;
}
.hidden { opacity: 0; pointer-events: none; transform: scale(1.1); }

/* --- HEADINGS --- */
h1, h2, .frame-heading {
  font-family: var(--heading-font);
  color: var(--soft-pink);
  letter-spacing: 0.5px;
}

h2.frame-heading {
  margin-bottom: 30px; font-weight: 700; font-size: 1.8rem;
  max-width: 80%; text-shadow: 0 0 5px rgba(255,192,203,0.3);
}

/* --- STAGE 1: TIMER --- */
.timer-box {
  width: 180px; height: 180px; background: rgba(255, 255, 255, 0.03);
  border-radius: 50%; display: flex; align-items: center; justify-content: center;
  cursor: pointer; position: relative; border: 1px solid rgba(255,192,203,0.2);
}
#progress-bar { 
  stroke: var(--soft-pink); stroke-width: 6; stroke-dasharray: 502; stroke-dashoffset: 502; 
  transition: 2.5s linear; filter: drop-shadow(0 0 10px var(--soft-pink));
}
.timer-box span { 
    position: absolute; color: white; font-weight: 600; 
    letter-spacing: 2px; font-size: 0.9rem;
}

/* --- STAGE 2: CLUMSY BESTIE CARDS --- */
.search-container { position: relative; width: 350px; height: 350px; display: flex; justify-content: center; align-items: center; }
.gift-img { 
    width: 170px; border-radius: 25px; 
    box-shadow: 0 0 30px var(--soft-pink); 
    cursor: pointer; border: 1px solid rgba(255,255,255,0.1);
}

.wish-card {
  position: absolute; width: 250px; height: 130px;
  background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 192, 203, 0.4); border-radius: 20px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.1rem; color: #fff; cursor: pointer; transition: 0.5s;
  font-weight: 400; padding: 15px;
  box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
}
/* Clumsy pile effect */
.c1 { transform: rotate(-10deg) translate(-10px, -20px); }
.c2 { transform: rotate(8deg) translate(20px, 15px); }
.c3 { transform: rotate(-5deg) translate(-5px, 30px); }
.c4 { transform: rotate(12deg) translate(-25px, -10px); }

.wish-card:hover { border-color: #fff; transform: scale(1.05); }
.wish-card.exit { transform: scale(0) rotate(-45deg); opacity: 0; pointer-events: none; }

/* --- STAGE 3: PHOTO STACK --- */
.stack { position: relative; width: 300px; height: 420px; }
.img-card {
  position: absolute; inset: 0; background: #000;
  border-radius: 15px; padding: 10px; border: 1px solid #222;
  cursor: pointer; transition: 0.6s ease;
}
.img-card img { width: 100%; height: 100%; object-fit: cover; border-radius: 10px; }
.img-card.swipe { transform: translate(-150%, -20%) rotate(-20deg); opacity: 0; pointer-events: none; }

/* --- STAGE 4: FINAL --- */
#final { background: var(--bg-dark); display: none; overflow-y: auto; }
.letter { max-width: 550px; padding: 40px 20px; }
.letter h1 { 
  font-size: 2.8rem; line-height: 1.2;
  animation: softGlow 2s ease-in-out infinite alternate;
}
.letter p { 
  color: #fce4ec; font-size: 1.1rem; line-height: 1.8; 
  margin-top: 20px; font-weight: 300; text-align: justify;
}

@keyframes softGlow {
  from { text-shadow: 0 0 10px var(--soft-pink); }
  to { text-shadow: 0 0 20px var(--soft-pink), 0 0 40px #fff; }
}
</style>
</head>
<body>

<div id="stage1" class="screen">
  <h2 class="frame-heading">Sowmya, are you ready for a 2026 surprise? <br>Just tap start! üå∏</h2>
  <div class="timer-box" onclick="runTimer()">
    <svg width="180" height="180"><circle cx="90" cy="90" r="80" stroke="#1a1a1a" fill="none" /><circle id="progress-bar" cx="90" cy="90" r="80" fill="none" stroke-linecap="round"/></svg>
    <span>OPEN IT</span>
  </div>
</div>

<div id="stage2" class="screen hidden">
  <h2 class="frame-heading">Clear the clumsy mess to reveal the gift... ü•∫</h2>
  <div class="search-container">
    <img src="gift.webp" class="gift-img" id="mainGift" onclick="openGift()">
    <div class="wish-card c1" onclick="this.classList.add('exit'); checkWishes();">üëØ‚Äç‚ôÄÔ∏è More Travel Adventures</div>
    <div class="wish-card c2" onclick="this.classList.add('exit'); checkWishes();">üçï Endless Late Night Cravings</div>
    <div class="wish-card c3" onclick="this.classList.add('exit'); checkWishes();">üç¶ Pure Happiness & Glow</div>
    <div class="wish-card c4" onclick="this.classList.add('exit'); checkWishes();">‚ú® Always Beside Each Other</div>
  </div>
</div>

<div id="stage3" class="screen hidden">
  <h2 class="frame-heading">Our Best Memories</h2>
  <div class="stack">
    <div id="pic3" class="img-card" style="transform: rotate(-8deg); z-index: 1; display: none;"><img src="pic3.jpeg"></div>
    <div id="pic2" class="img-card" style="transform: rotate(6deg); z-index: 2;"><img src="pic2.jpeg"></div>
    <div id="pic1" class="img-card" style="transform: rotate(-3deg); z-index: 3;"><img src="pic1.jpeg"></div>
  </div>
</div>

<div id="transition-line" class="screen">
  <h2 style="font-style: italic;">"To my favorite person... next year is going to be iconic."</h2>
</div>

<div id="final" class="screen">
  <div class="letter">
    <h1>HAPPY 2026, BESTIE! üå∏</h1>
    <p>Sowmya, thank you for being the person I can always count on. Looking back at 2025, I realize how much your friendship kept me going. Thank you for being beside me through every high and low.</p>
    
    <p>May your 2026 be filled with as much laughter as we share every single day. Let's make more chaotic memories and chase our dreams together‚ù§Ô∏è. You aren't just a friend; you're a part of my best memories.</p>
    
    <br>
    <h1>You're The Best! üíñ</h1>
    <p style="font-weight: 600; font-size: 1.4rem; color: var(--soft-pink); margin-top: 20px;">Best Friends Forever ‚ù§Ô∏è</p>
  </div>
</div>

<script>
// Generate background stars
for (let i = 0; i < 60; i++) {
  let star = document.createElement('div');
  star.className = 'star';
  star.style.top = Math.random() * 100 + 'vh';
  star.style.left = Math.random() * 100 + 'vw';
  document.body.appendChild(star);
}

function bigSplash() {
  confetti({
    particleCount: 200, spread: 100, startVelocity: 50, origin: { y: 0.6 },
    colors: ['#ffc0cb', '#ffffff', '#ffd1dc', '#ffb6c1'], gravity: 0.8
  });
}

function runTimer() {
  document.getElementById('progress-bar').style.strokeDashoffset = 0;
  setTimeout(() => {
    document.getElementById('stage1').classList.add('hidden');
    document.getElementById('stage2').classList.remove('hidden');
  }, 2600);
}

let removedCount = 0;
function checkWishes() {
  removedCount++;
}

function openGift() {
  if (removedCount < 4) return alert("Swipe those clumsy goals first, Sowmya! üå∏");
  bigSplash();
  setTimeout(() => {
    document.getElementById('stage2').classList.add('hidden');
    document.getElementById('stage3').classList.remove('hidden');
  }, 600);
}

let photosSwiped = 0;
const cards = ['pic1', 'pic2', 'pic3'];
cards.forEach((id) => {
  const card = document.getElementById(id);
  card.onclick = () => {
    card.classList.add('swipe');
    photosSwiped++;

    if (photosSwiped === 2) {
      setTimeout(() => {
        document.getElementById('stage3').classList.add('hidden');
        document.getElementById('transition-line').style.display = 'flex';
        setTimeout(() => {
          document.getElementById('transition-line').style.display = 'none';
          document.getElementById('pic3').style.display = 'block';
          document.getElementById('stage3').classList.remove('hidden');
        }, 2500);
      }, 600);
    }

    if (photosSwiped === 3) {
      setTimeout(() => {
        document.getElementById('stage3').classList.add('hidden');
        bigSplash(); 
        document.getElementById('final').style.display = 'flex';
      }, 700);
    }
  };
});
</script>
</body>
</html>
